{"ast":null,"code":"import axios from'axios';const apiUrl=\"http://localhost:5073\";// הכתובת של ה-API שלך\naxios.defaults.baseURL=apiUrl;// הוספת interceptor לתפיסת שגיאות\naxios.interceptors.response.use(response=>response,error=>{if(error.response&&error.response.status===401){// הפנה לדף הלוגין\nwindow.location.href='/login';// הנח את הכתובת לדף הלוגין שלך\n}return Promise.reject(error);});export default{getTasks:async()=>{const result=await axios.get(\"/items\");return result.data;},addTask:async name=>{console.log('addTask',name);try{const result=await axios.post(\"/items\",{name});return result.data;}catch(error){console.error(\"Error adding task:\",error.message);throw error;// זרוק את השגיאה כדי שתוכל לטפל בה במקום אחר\n}},setCompleted:async(id,isComplete)=>{console.log('setCompleted',{id,isComplete});try{const existingItemResponse=await axios.get(\"/items/\".concat(id));const existingItem=existingItemResponse.data;const updatedItem={name:existingItem.name,isComplete:isComplete};const result=await axios.put(\"/items/\".concat(id),updatedItem);return result.data;}catch(error){console.error(\"Error setting task completion:\",error.message);throw error;}},deleteTask:async id=>{try{await axios.delete(\"/items/\".concat(id));console.log('Task deleted successfully');}catch(error){console.error(\"Error deleting task:\",error.message);throw error;}}};","map":{"version":3,"names":["axios","apiUrl","defaults","baseURL","interceptors","response","use","error","status","window","location","href","Promise","reject","getTasks","result","get","data","addTask","name","console","log","post","message","setCompleted","id","isComplete","existingItemResponse","concat","existingItem","updatedItem","put","deleteTask","delete"],"sources":["C:/Users/user1/Documents/שיעורי בית בתכנות/תשפה/פרויקט 3  ToDo List/ToDoListReact-master/src/service.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiUrl = \"http://localhost:5073\"; // הכתובת של ה-API שלך\naxios.defaults.baseURL = apiUrl;\n\n// הוספת interceptor לתפיסת שגיאות\naxios.interceptors.response.use(\n    response => response,\n    error => {\n        if (error.response && error.response.status === 401) {\n            // הפנה לדף הלוגין\n            window.location.href = '/login'; // הנח את הכתובת לדף הלוגין שלך\n        }\n        return Promise.reject(error);\n    }\n);\n\nexport default {\n    getTasks: async () => {\n        const result = await axios.get(`/items`);\n        return result.data;\n    },\n\n    addTask: async(name) => {\n        console.log('addTask', name);\n        try {\n            const result = await axios.post(`/items`, { name });\n            return result.data;\n        } catch (error) {\n            console.error(\"Error adding task:\", error.message);\n            throw error; // זרוק את השגיאה כדי שתוכל לטפל בה במקום אחר\n        }\n    },\n\n    setCompleted: async (id, isComplete) => {\n        console.log('setCompleted', { id, isComplete });\n        try {\n            const existingItemResponse = await axios.get(`/items/${id}`);\n            const existingItem = existingItemResponse.data;\n\n            const updatedItem = {\n                name: existingItem.name,\n                isComplete: isComplete\n            };\n\n            const result = await axios.put(`/items/${id}`, updatedItem);\n            return result.data;\n        } catch (error) {\n            console.error(\"Error setting task completion:\", error.message);\n            throw error;\n        }\n    },\n\n    deleteTask: async (id) => {\n        try {\n            await axios.delete(`/items/${id}`);\n            console.log('Task deleted successfully');\n        } catch (error) {\n            console.error(\"Error deleting task:\", error.message);\n            throw error;\n        }\n    }\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,MAAM,CAAG,uBAAuB,CAAE;AACxCD,KAAK,CAACE,QAAQ,CAACC,OAAO,CAAGF,MAAM,CAE/B;AACAD,KAAK,CAACI,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC3BD,QAAQ,EAAIA,QAAQ,CACpBE,KAAK,EAAI,CACL,GAAIA,KAAK,CAACF,QAAQ,EAAIE,KAAK,CAACF,QAAQ,CAACG,MAAM,GAAK,GAAG,CAAE,CACjD;AACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CAAE;AACrC,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC,CAChC,CACJ,CAAC,CAED,cAAe,CACXO,QAAQ,CAAE,KAAAA,CAAA,GAAY,CAClB,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAf,KAAK,CAACgB,GAAG,SAAS,CAAC,CACxC,MAAO,CAAAD,MAAM,CAACE,IAAI,CACtB,CAAC,CAEDC,OAAO,CAAE,KAAM,CAAAC,IAAI,EAAK,CACpBC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAEF,IAAI,CAAC,CAC5B,GAAI,CACA,KAAM,CAAAJ,MAAM,CAAG,KAAM,CAAAf,KAAK,CAACsB,IAAI,UAAW,CAAEH,IAAK,CAAC,CAAC,CACnD,MAAO,CAAAJ,MAAM,CAACE,IAAI,CACtB,CAAE,MAAOV,KAAK,CAAE,CACZa,OAAO,CAACb,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAACgB,OAAO,CAAC,CAClD,KAAM,CAAAhB,KAAK,CAAE;AACjB,CACJ,CAAC,CAEDiB,YAAY,CAAE,KAAAA,CAAOC,EAAE,CAAEC,UAAU,GAAK,CACpCN,OAAO,CAACC,GAAG,CAAC,cAAc,CAAE,CAAEI,EAAE,CAAEC,UAAW,CAAC,CAAC,CAC/C,GAAI,CACA,KAAM,CAAAC,oBAAoB,CAAG,KAAM,CAAA3B,KAAK,CAACgB,GAAG,WAAAY,MAAA,CAAWH,EAAE,CAAE,CAAC,CAC5D,KAAM,CAAAI,YAAY,CAAGF,oBAAoB,CAACV,IAAI,CAE9C,KAAM,CAAAa,WAAW,CAAG,CAChBX,IAAI,CAAEU,YAAY,CAACV,IAAI,CACvBO,UAAU,CAAEA,UAChB,CAAC,CAED,KAAM,CAAAX,MAAM,CAAG,KAAM,CAAAf,KAAK,CAAC+B,GAAG,WAAAH,MAAA,CAAWH,EAAE,EAAIK,WAAW,CAAC,CAC3D,MAAO,CAAAf,MAAM,CAACE,IAAI,CACtB,CAAE,MAAOV,KAAK,CAAE,CACZa,OAAO,CAACb,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAACgB,OAAO,CAAC,CAC9D,KAAM,CAAAhB,KAAK,CACf,CACJ,CAAC,CAEDyB,UAAU,CAAE,KAAO,CAAAP,EAAE,EAAK,CACtB,GAAI,CACA,KAAM,CAAAzB,KAAK,CAACiC,MAAM,WAAAL,MAAA,CAAWH,EAAE,CAAE,CAAC,CAClCL,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CAC5C,CAAE,MAAOd,KAAK,CAAE,CACZa,OAAO,CAACb,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAACgB,OAAO,CAAC,CACpD,KAAM,CAAAhB,KAAK,CACf,CACJ,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}