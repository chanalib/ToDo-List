{"ast":null,"code":"import axios from 'axios';\nconst apiUrl = \"http://localhost:5073\"; // הכתובת של ה-API שלך\naxios.defaults.baseURL = apiUrl;\n\n// הוספת interceptor לתפיסת שגיאות\naxios.interceptors.response.use(response => response, error => {\n  if (error.response && error.response.status === 401) {\n    // הפנה לדף הלוגין\n    window.location.href = '/login'; // הנח את הכתובת לדף הלוגין שלך\n  }\n  return Promise.reject(error);\n});\nexport default {\n  getTasks: async () => {\n    const result = await axios.get(`/items`);\n    return result.data;\n  },\n  addTask: async name => {\n    console.log('addTask', name);\n    try {\n      const result = await axios.post(`/items`, {\n        name\n      });\n      return result.data;\n    } catch (error) {\n      console.error(\"Error adding task:\", error.message);\n      throw error; // זרוק את השגיאה כדי שתוכל לטפל בה במקום אחר\n    }\n  },\n  setCompleted: async (id, isComplete) => {\n    console.log('setCompleted', {\n      id,\n      isComplete\n    });\n    try {\n      const existingItemResponse = await axios.get(`/items/${id}`);\n      const existingItem = existingItemResponse.data;\n      const updatedItem = {\n        name: existingItem.name,\n        isComplete: isComplete\n      };\n      const result = await axios.put(`/items/${id}`, updatedItem);\n      return result.data;\n    } catch (error) {\n      console.error(\"Error setting task completion:\", error.message);\n      throw error;\n    }\n  },\n  deleteTask: async id => {\n    try {\n      await axios.delete(`/items/${id}`);\n      console.log('Task deleted successfully');\n    } catch (error) {\n      console.error(\"Error deleting task:\", error.message);\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["axios","apiUrl","defaults","baseURL","interceptors","response","use","error","status","window","location","href","Promise","reject","getTasks","result","get","data","addTask","name","console","log","post","message","setCompleted","id","isComplete","existingItemResponse","existingItem","updatedItem","put","deleteTask","delete"],"sources":["C:/Users/user1/Documents/שיעורי בית בתכנות/תשפה/פרויקט 3  ToDo List/ToDoListReact-master/src/service.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiUrl = \"http://localhost:5073\"; // הכתובת של ה-API שלך\naxios.defaults.baseURL = apiUrl;\n\n// הוספת interceptor לתפיסת שגיאות\naxios.interceptors.response.use(\n    response => response,\n    error => {\n        if (error.response && error.response.status === 401) {\n            // הפנה לדף הלוגין\n            window.location.href = '/login'; // הנח את הכתובת לדף הלוגין שלך\n        }\n        return Promise.reject(error);\n    }\n);\n\nexport default {\n    getTasks: async () => {\n        const result = await axios.get(`/items`);\n        return result.data;\n    },\n\n    addTask: async(name) => {\n        console.log('addTask', name);\n        try {\n            const result = await axios.post(`/items`, { name });\n            return result.data;\n        } catch (error) {\n            console.error(\"Error adding task:\", error.message);\n            throw error; // זרוק את השגיאה כדי שתוכל לטפל בה במקום אחר\n        }\n    },\n\n    setCompleted: async (id, isComplete) => {\n        console.log('setCompleted', { id, isComplete });\n        try {\n            const existingItemResponse = await axios.get(`/items/${id}`);\n            const existingItem = existingItemResponse.data;\n\n            const updatedItem = {\n                name: existingItem.name,\n                isComplete: isComplete\n            };\n\n            const result = await axios.put(`/items/${id}`, updatedItem);\n            return result.data;\n        } catch (error) {\n            console.error(\"Error setting task completion:\", error.message);\n            throw error;\n        }\n    },\n\n    deleteTask: async (id) => {\n        try {\n            await axios.delete(`/items/${id}`);\n            console.log('Task deleted successfully');\n        } catch (error) {\n            console.error(\"Error deleting task:\", error.message);\n            throw error;\n        }\n    }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,MAAM,GAAG,uBAAuB,CAAC,CAAC;AACxCD,KAAK,CAACE,QAAQ,CAACC,OAAO,GAAGF,MAAM;;AAE/B;AACAD,KAAK,CAACI,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC3BD,QAAQ,IAAIA,QAAQ,EACpBE,KAAK,IAAI;EACL,IAAIA,KAAK,CAACF,QAAQ,IAAIE,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;IACjD;IACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ,CAAC,CAAC;EACrC;EACA,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;AAChC,CACJ,CAAC;AAED,eAAe;EACXO,QAAQ,EAAE,MAAAA,CAAA,KAAY;IAClB,MAAMC,MAAM,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,QAAQ,CAAC;IACxC,OAAOD,MAAM,CAACE,IAAI;EACtB,CAAC;EAEDC,OAAO,EAAE,MAAMC,IAAI,IAAK;IACpBC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,IAAI,CAAC;IAC5B,IAAI;MACA,MAAMJ,MAAM,GAAG,MAAMf,KAAK,CAACsB,IAAI,CAAC,QAAQ,EAAE;QAAEH;MAAK,CAAC,CAAC;MACnD,OAAOJ,MAAM,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOV,KAAK,EAAE;MACZa,OAAO,CAACb,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAACgB,OAAO,CAAC;MAClD,MAAMhB,KAAK,CAAC,CAAC;IACjB;EACJ,CAAC;EAEDiB,YAAY,EAAE,MAAAA,CAAOC,EAAE,EAAEC,UAAU,KAAK;IACpCN,OAAO,CAACC,GAAG,CAAC,cAAc,EAAE;MAAEI,EAAE;MAAEC;IAAW,CAAC,CAAC;IAC/C,IAAI;MACA,MAAMC,oBAAoB,GAAG,MAAM3B,KAAK,CAACgB,GAAG,CAAC,UAAUS,EAAE,EAAE,CAAC;MAC5D,MAAMG,YAAY,GAAGD,oBAAoB,CAACV,IAAI;MAE9C,MAAMY,WAAW,GAAG;QAChBV,IAAI,EAAES,YAAY,CAACT,IAAI;QACvBO,UAAU,EAAEA;MAChB,CAAC;MAED,MAAMX,MAAM,GAAG,MAAMf,KAAK,CAAC8B,GAAG,CAAC,UAAUL,EAAE,EAAE,EAAEI,WAAW,CAAC;MAC3D,OAAOd,MAAM,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOV,KAAK,EAAE;MACZa,OAAO,CAACb,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAACgB,OAAO,CAAC;MAC9D,MAAMhB,KAAK;IACf;EACJ,CAAC;EAEDwB,UAAU,EAAE,MAAON,EAAE,IAAK;IACtB,IAAI;MACA,MAAMzB,KAAK,CAACgC,MAAM,CAAC,UAAUP,EAAE,EAAE,CAAC;MAClCL,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IAC5C,CAAC,CAAC,OAAOd,KAAK,EAAE;MACZa,OAAO,CAACb,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAACgB,OAAO,CAAC;MACpD,MAAMhB,KAAK;IACf;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}